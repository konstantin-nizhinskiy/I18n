/*
name: nks-i18n
version: 1.7.0
author: Konstantin Nizhinskiy
date: 2019-07-18 08:07:36 

*/
!function(e,t){"function"==typeof define&&define.amd?define([],function(){return e.i18n=t()}):"object"==typeof module&&module.exports?module.exports=e.i18n=t():e.i18n=t()}(this,function(){function e(){this.setProperty({locale:"UA",localeDefault:"UA",versionJson:+new Date})}var t="UA",i="UA",n="",f={},s={};_modulePrefix={},e.prototype.changeLocale=function(e){var t=[],a=this;for(var o in s)!0!==s[o][e]&&t.push(o);if(0<t.length){function l(){0===--n&&a.trigger("changeLocale",e)}var n=t.length;r(e),t.forEach(function(e){a.load(e,l)})}else r(e),this.trigger("changeLocale",e)};var l={};e.prototype.on=function(e,t){void 0===l[e]&&(l[e]={callback:[],callbackOnce:[]}),l[e].callback.push(t)},e.prototype.once=function(e,t){void 0===l[e]&&(l[e]={callback:[],callbackOnce:[]}),l[e].callbackOnce.push(t)},e.prototype.off=function(e,t){var a;if("function"==typeof t){if(l[e].callback&&0<l[e].callback.length){a=[];for(var o=0;o<l[e].callback.length;o++)"function"==typeof l[e].callback[o]&&l[e].callback[o]!==t&&a.push(l[e].callback[o]);l[e].callback=a}if(l[e].callbackOnce&&0<l[e].callbackOnce.length){a=[];for(o=0;o<l[e].callbackOnce.length;o++)"function"==typeof l[e].callbackOnce[o]&&l[e].callbackOnce[o]!==t&&a.push(l[e].callbackOnce[o]);l[e].callbackOnce=a}}else delete l[e]},e.prototype.trigger=function(e){if(l[e]){var t=[];for(var a in arguments)0!=a&&t.push(arguments[a]);if(l[e].callback&&0<l[e].callback.length)for(var o=0;o<l[e].callback.length;o++)"function"==typeof l[e].callback[o]&&l[e].callback[o].apply(this,t);if(l[e].callbackOnce&&0<l[e].callbackOnce.length){for(o=0;o<l[e].callbackOnce.length;o++)"function"==typeof l[e].callbackOnce[o]&&l[e].callbackOnce[o].apply(this,t);l[e].callbackOnce=[]}}},e.prototype.get=function(e,t,a){var o;if(f[this.getLocale()]&&f[this.getLocale()][e]){if(o=f[this.getLocale()][e],"object"==typeof t)for(var l in t)o=o.replace(new RegExp("{{[ ]{0,}"+l+"[ ]{0,}}}","g"),t[l]);return o}if(this.trigger("error","error:translation:key",e,this.getLocale()),this.trigger("error:translation:key",e,this.getLocale()),i&&f[i]&&f[i][e]){if(o=f[i][e],"object"==typeof t)for(var l in t)o=o.replace(new RegExp("{{[ ]{0,}"+l+"[ ]{0,}}}","g"),t[l]);return o}return a&&a.defaultValue?a.defaultValue:n||e},e.prototype.getByData=function(e,t){return e[this.getLocale()]||e[i]?e[this.getLocale()]||e[i]:t&&t.defaultValue?t.defaultValue:e},e.prototype.getLocale=function(){return t},e.prototype.load=function(a,o,e){var l=this.getLocale();if((e=e||{}).modulePrefix&&_modulePrefix[e.modulePrefix]&&(a=_modulePrefix[e.modulePrefix]+a),void 0===s[a]&&(s[a]={}),void 0===s[a][i]&&l!==i){var n=new XMLHttpRequest,r=this;n.open("GET",a+"."+i.toLowerCase()+".json?"+this._versionJson,!0),n.send(),n.onreadystatechange=function(){if(4==n.readyState)if(200!=n.status)r.trigger("error","error:load",n.statusText,n.status,n),r.trigger("error:load",n.statusText,n.status,n);else{var e=JSON.parse(n.responseText);if(s[a][i]=!0,void 0===f[i])f[i]=e;else for(var t in e)f[i][t]||(f[i][t]=e[t])}}}if(void 0===s[a][l]){var c=new XMLHttpRequest;r=this;c.open("GET",a+"."+l.toLowerCase()+".json?"+this._versionJson,!0),c.send(),c.onreadystatechange=function(){if(4==c.readyState)if(200!=c.status)r.trigger("error","error:load",c.statusText,c.status,c),r.trigger("error:load",c.statusText,c.status,c),"function"==typeof o&&o();else{var e=JSON.parse(c.responseText);if(s[a][l]=!0,void 0===f[l])f[l]=e;else for(var t in e)f[l][t]||(f[l][t]=e[t]);r.trigger("load",a,s[a][l]),"function"==typeof o&&o()}}}else"function"==typeof o&&o()};var r=function(e){t=e};return e.prototype.setProperty=function(e){e.locale&&(t=e.locale),e.localeDefault&&(i=e.localeDefault),e.versionJson&&(this._versionJson=e.versionJson),e.defaultValue&&(n=e.defaultValue),e.modulePrefix&&(_modulePrefix=e.modulePrefix)},new e});